$map = @{
    'android.support.v7.widget.RecyclerView.ItemAnimator.ItemAnimatorFinishedListener' = 'androidx.recyclerview.widget.RecyclerView.ItemAnimator.ItemAnimatorFinishedListener'
    'android.support.v7.widget.RecyclerView.ItemAnimator' = 'androidx.recyclerview.widget.RecyclerView.ItemAnimator'
    'android.support.v7.widget.RecyclerView.OnScrollListener' = 'androidx.recyclerview.widget.RecyclerView.OnScrollListener'
    'android.support.v7.widget.RecyclerView.ViewHolder' = 'androidx.recyclerview.widget.RecyclerView.ViewHolder'
    'android.support.v7.widget.RecyclerView.Adapter' = 'androidx.recyclerview.widget.RecyclerView.Adapter'
    'android.support.v7.widget.RecyclerView' = 'androidx.recyclerview.widget.RecyclerView'
    'android.support.v7.preference.PreferenceDialogFragmentCompat' = 'androidx.preference.PreferenceDialogFragmentCompat'
    'android.support.v7.preference.PreferenceFragmentCompat' = 'androidx.preference.PreferenceFragmentCompat'
    'android.support.v7.preference.PreferenceManager' = 'androidx.preference.PreferenceManager'
    'android.support.v7.preference.PreferenceScreen' = 'androidx.preference.PreferenceScreen'
    'android.support.v7.preference.PreferenceViewHolder' = 'androidx.preference.PreferenceViewHolder'
    'android.support.v7.preference.ListPreference' = 'androidx.preference.ListPreference'
    'android.support.v7.preference.EditTextPreference' = 'androidx.preference.EditTextPreference'
    'android.support.v7.preference.CheckBoxPreference' = 'androidx.preference.CheckBoxPreference'
    'android.support.v7.preference.DialogPreference' = 'androidx.preference.DialogPreference'
    'android.support.v7.preference.Preference' = 'androidx.preference.Preference'
    'android.support.v7.widget.AppCompatMultiAutoCompleteTextView' = 'androidx.appcompat.widget.AppCompatMultiAutoCompleteTextView'
    'android.support.v7.widget.ListPopupWindow' = 'androidx.appcompat.widget.ListPopupWindow'
    'android.support.v7.widget.AppCompatEditText' = 'androidx.appcompat.widget.AppCompatEditText'
    'android.support.v7.widget.AppCompatTextView' = 'androidx.appcompat.widget.AppCompatTextView'
    'android.support.v7.widget.LinearLayoutCompat' = 'androidx.appcompat.widget.LinearLayoutCompat'
    'android.support.v7.widget.LinearLayoutManager' = 'androidx.recyclerview.widget.LinearLayoutManager'
    'android.support.v7.widget.GridLayoutManager' = 'androidx.recyclerview.widget.GridLayoutManager'
    'android.support.v7.widget.Toolbar' = 'androidx.appcompat.widget.Toolbar'
    'android.support.v7.widget.SearchView' = 'androidx.appcompat.widget.SearchView'
    'android.support.v7.widget.helper.ItemTouchHelper' = 'androidx.recyclerview.widget.ItemTouchHelper'
    'android.support.v7.view.ActionMode' = 'androidx.appcompat.view.ActionMode'
    'android.support.v7.app.AppCompatActivity' = 'androidx.appcompat.app.AppCompatActivity'
    'android.support.v7.app.ActionBar' = 'androidx.appcompat.app.ActionBar'
    'android.support.v7.app.AlertDialog' = 'androidx.appcompat.app.AlertDialog'
    'android.support.design.widget.Snackbar' = 'com.google.android.material.snackbar.Snackbar'
    'android.support.design.widget.FloatingActionButton' = 'com.google.android.material.floatingactionbutton.FloatingActionButton'
    'android.support.v13.view.inputmethod.EditorInfoCompat' = 'androidx.core.view.inputmethod.EditorInfoCompat'
    'android.support.v13.view.inputmethod.InputConnectionCompat' = 'androidx.core.view.inputmethod.InputConnectionCompat'
    'android.support.v13.view.inputmethod.InputContentInfoCompat' = 'androidx.core.view.inputmethod.InputContentInfoCompat'
    'android.support.v4.view.animation.FastOutSlowInInterpolator' = 'androidx.interpolator.view.animation.FastOutSlowInInterpolator'
    'android.support.v4.view.MenuItemCompat' = 'androidx.core.view.MenuItemCompat'
    'android.support.v4.view.WindowCompat' = 'androidx.core.view.WindowCompat'
    'android.support.v4.view.ViewPager' = 'androidx.viewpager.widget.ViewPager'
    'android.support.v4.view.PagerAdapter' = 'androidx.viewpager.widget.PagerAdapter'
    'android.support.v4.view.ViewCompat' = 'androidx.core.view.ViewCompat'
    'android.support.v4.os.BuildCompat' = 'androidx.core.os.BuildCompat'
    'android.support.v4.util.Pair' = 'androidx.core.util.Pair'
    'android.support.v4.content.ContextCompat' = 'androidx.core.content.ContextCompat'
    'android.support.v4.content.CursorLoader' = 'androidx.loader.content.CursorLoader'
    'android.support.v4.content.AsyncTaskLoader' = 'androidx.loader.content.AsyncTaskLoader'
    'android.support.v4.content.FileProvider' = 'androidx.core.content.FileProvider'
    'android.support.v4.content.Loader' = 'androidx.loader.content.Loader'
    'android.support.v4.content.res.TypedArrayUtils' = 'androidx.core.content.res.TypedArrayUtils'
    'android.support.v4.app.ActivityCompat' = 'androidx.core.app.ActivityCompat'
    'android.support.v4.app.ActivityOptionsCompat' = 'androidx.core.app.ActivityOptionsCompat'
    'android.support.v4.app.NotificationCompat' = 'androidx.core.app.NotificationCompat'
    'android.support.v4.app.NotificationManagerCompat' = 'androidx.core.app.NotificationManagerCompat'
    'android.support.v4.app.RemoteInput' = 'androidx.core.app.RemoteInput'
    'android.support.v4.app.TaskStackBuilder' = 'androidx.core.app.TaskStackBuilder'
    'android.support.v4.app.FragmentTransaction' = 'androidx.fragment.app.FragmentTransaction'
    'android.support.v4.app.FragmentManager' = 'androidx.fragment.app.FragmentManager'
    'android.support.v4.app.FragmentActivity' = 'androidx.fragment.app.FragmentActivity'
    'android.support.v4.app.Fragment' = 'androidx.fragment.app.Fragment'
    'android.support.v4.app.ListFragment' = 'androidx.fragment.app.ListFragment'
    'android.support.v4.app.DialogFragment' = 'androidx.fragment.app.DialogFragment'
    'android.support.v4.app.LoaderManager' = 'androidx.loader.app.LoaderManager'
    'android.support.v4.graphics.drawable.DrawableCompat' = 'androidx.core.graphics.drawable.DrawableCompat'
    'android.support.v4.graphics.drawable.TintAwareDrawable' = 'androidx.core.graphics.drawable.TintAwareDrawable'
    'android.support.v4.graphics.drawable.WrappedDrawable' = 'androidx.core.graphics.drawable.WrappedDrawable'
    'android.support.v4.graphics.ColorUtils' = 'androidx.core.graphics.ColorUtils'
    'android.support.v4.view.inputmethod.EditorInfoCompat' = 'androidx.core.view.inputmethod.EditorInfoCompat'
    'android.support.v4.view.inputmethod.InputConnectionCompat' = 'androidx.core.view.inputmethod.InputConnectionCompat'
    'android.support.v4.view.inputmethod.InputContentInfoCompat' = 'androidx.core.view.inputmethod.InputContentInfoCompat'
    'android.support.v4.widget.CursorAdapter' = 'androidx.cursoradapter.widget.CursorAdapter'
    'android.support.annotation' = 'androidx.annotation'
    'android.support.test.runner.AndroidJUnit4' = 'androidx.test.ext.junit.runners.AndroidJUnit4'
    'android.support.test.rule.UiThreadTestRule' = 'androidx.test.rule.UiThreadTestRule'
    'android.support.test.annotation.UiThreadTest' = 'androidx.test.annotation.UiThreadTest'
}
$encoding = New-Object System.Text.UTF8Encoding($false)
$files = Get-ChildItem -Recurse -Include *.java -Path src,test,libs | Where-Object { -not $_.PSIsContainer }
$keys = $map.Keys | Sort-Object Length -Descending
foreach ($file in $files) {
    $content = [System.IO.File]::ReadAllText($file.FullName)
    $original = $content
    foreach ($key in $keys) {
        $content = $content -replace [System.Text.RegularExpressions.Regex]::Escape($key), $map[$key]
    }
    if ($content -ne $original) {
        [System.IO.File]::WriteAllText($file.FullName, $content, $encoding)
    }
}
